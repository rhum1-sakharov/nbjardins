<p-card>
  <ng-template pTemplate="header">
    <h6 class="pg-10">Demander un devis</h6>
  </ng-template>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class=" font-12">
      Les champs avec une astérisque <span class="color-nature font-16"><b>*</b></span> sont obligatoires.
    </div>

    <div class="p-grid p-fluid mg-t-10">

      <div class="p-col-12">
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon"> <div class="wh-80">Nom<span
            class="color-nature font-16"><b>*</b></span></div> </span>
          <input type="text" formControlName="nomCtl" pInputText placeholder="">
        </div>
      </div>
      <div *ngIf="validatorsSvc.shouldShowRequiredError(form.get('nomCtl'))" class="color-nature">Le nom est
        obligatoire.
      </div>
      <div *ngIf="validatorsSvc.shouldShowMinLengthError(form.get('nomCtl'))" class="color-nature">
        {{validatorsSvc.displayMinLengthError(form.get('nomCtl'),'nom')}}
      </div>
      <div *ngIf="validatorsSvc.shouldShowMaxLengthError(form.get('nomCtl'))" class="color-nature">
        {{validatorsSvc.displayMaxLengthError(form.get('nomCtl'),'nom')}}
      </div>

      <div class="p-col-12 mg-t-10">
        <div class="p-inputgroup ">
          <span class="p-inputgroup-addon">   <div class="wh-80">Prénom<span
            class="color-nature font-16"><b>*</b></span></div></span>
          <input type="text" formControlName="prenomCtl" pInputText placeholder="">
        </div>
      </div>
      <div *ngIf="validatorsSvc.shouldShowRequiredError(form.get('prenomCtl'))" class="color-nature">Le prénom est
        obligatoire.
      </div>
      <div *ngIf="validatorsSvc.shouldShowMinLengthError(form.get('prenomCtl'))" class="color-nature">
        {{validatorsSvc.displayMinLengthError(form.get('prenomCtl'),'prénom')}}
      </div>
      <div *ngIf="validatorsSvc.shouldShowMaxLengthError(form.get('prenomCtl'))" class="color-nature">
        {{validatorsSvc.displayMaxLengthError(form.get('prenomCtl'),'prénom')}}
      </div>

      <div class="p-col-12 mg-t-10">
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon"> <div class="wh-80">Email<span class="color-nature font-16"><b>*</b></span></div></span>
          <input formControlName="emailCtl" type="email" pInputText placeholder="">
        </div>
      </div>
      <div *ngIf="validatorsSvc.shouldShowRequiredError(form.get('emailCtl'))" class="color-nature">L'email est
        obligatoire.
      </div>
      <div *ngIf="validatorsSvc.shouldShowMinLengthError(form.get('emailCtl'))" class="color-nature">
        {{validatorsSvc.displayMinLengthError(form.get('emailCtl'),'email')}}
      </div>
      <div *ngIf="validatorsSvc.shouldShowMaxLengthError(form.get('emailCtl'))" class="color-nature">
        {{validatorsSvc.displayMaxLengthError(form.get('emailCtl'),'email')}}
      </div>
      <div *ngIf="validatorsSvc.shouldShowEmailPatternError(form.get('emailCtl'))" class="color-nature">
        {{validatorsSvc.displayEmailPatternError(form.get('emailCtl'))}}
      </div>

      <div class="p-col-12 mg-t-10">
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon"> <div class="wh-80">Sujet<span
            class="color-nature font-16"><b>*</b></span></div> </span>
          <input type="text" formControlName="sujetCtl" pInputText placeholder="">
        </div>
      </div>
      <div *ngIf="validatorsSvc.shouldShowRequiredError(form.get('sujetCtl'))" class="color-nature">Le sujet est
        obligatoire.
      </div>
      <div *ngIf="validatorsSvc.shouldShowMinLengthError(form.get('sujetCtl'))" class="color-nature">
        {{validatorsSvc.displayMinLengthError(form.get('sujetCtl'),'sujetCtl')}}
      </div>
      <div *ngIf="validatorsSvc.shouldShowMaxLengthError(form.get('sujetCtl'))" class="color-nature">
        {{validatorsSvc.displayMaxLengthError(form.get('sujetCtl'),'sujetCtl')}}
      </div>

      <div class="p-col-12 mg-t-10">
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon "><div class="wh-80">Rédiger un message<span class="color-nature font-16"><b>*</b></span></div></span>
          <textarea pInputTextarea formControlName="messageCtl" [rows]="6" [cols]="30"
                    placeholder=""></textarea>
        </div>
      </div>
      <div *ngIf="validatorsSvc.shouldShowRequiredError(form.get('messageCtl'))" class="color-nature">Le message est
        obligatoire.
      </div>
      <div *ngIf="validatorsSvc.shouldShowMinLengthError(form.get('messageCtl'))" class="color-nature">
        {{validatorsSvc.displayMinLengthError(form.get('messageCtl'),'message')}}
      </div>
      <div *ngIf="validatorsSvc.shouldShowMaxLengthError(form.get('messageCtl'))" class="color-nature">
        {{validatorsSvc.displayMaxLengthError(form.get('messageCtl'),'message')}}
      </div>

      <div class="d-flex mg-t-10">
        <div class="mr-auto ">
        </div>
        <div>
          <table>
            <tr>
              <td>
                <button pButton pRipple type="submit"
                        [disabled]="loadingSvc.loading"
                        label="Envoyer" class="p-button-rounded"></button>
              </td>
              <td width="34">
                <fa-icon *ngIf="loadingSvc.loading" [icon]="faSync"  [spin]="true" class="mg-l-5" ></fa-icon>
              </td>
            </tr>
          </table>

        </div>
      </div>

    </div>
  </form>

</p-card>
